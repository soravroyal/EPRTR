<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<META http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="stylesheet" href="../../style.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="../../print.css" type="text/css" media="print" />
		<meta content="js,javascript,flex,externalinterface" name="keywords" />
		<title>js functions in E-PRTR Flex Map Viewer</title>
	</head>
	<body>
		<script type="text/javascript" language="javascript" src="../../asdoc.js" />
		<script type="text/javascript" language="javascript" src="../../cookies.js" />
		<script type="text/javascript" language="javascript">
			<!--
				asdocTitle = 'JS Functions - available in E-PRTR Flex Sample Viewer';
				var baseRef = '../../';
				window.onload = configPage;
			-->
		</script>
		<table style="display:none" id="titleTable" cellspacing="0" cellpadding="0" class="titleTable">
			<tr>
				<td align="left" class="titleTableTitle">Flex Sample Viewer js functions</td>
				<td align="right" class="titleTableTopNav" />
			</tr>
			<tr class="titleTableRow2">
				<td align="left" id="subTitle" class="titleTableSubTitle">js functions in E-PRTR Flex Map Viewer</td>
				<td align="right" id="subNav" class="titleTableSubNav">
					<a href="#propertySummary">Properties</a>&nbsp;| <a href="#methodSummary">Methods</a>&nbsp;| <a href="#constantSummary">Constants</a>
				</td>
			</tr>
			<tr class="titleTableRow3">
				<td colspan="2">&nbsp;</td>
			</tr>
		</table>
		<script type="text/javascript" language="javascript">
			<!--
if (!isEclipse() || window.name != ECLIPSE_FRAME_NAME) {titleBar_setSubTitle("Js Functions"); titleBar_setSubNav(true,true,false,false,false,false,true,false,false,false,false,false,false,false);}
-->
		</script>
		<div class="MainContent">
			<table cellspacing="0" cellpadding="0" class="classHeaderTable">
				<tr>
					<td class="classHeaderTableLabel">Package</td>
					<td />
				</tr>
				<tr>
					<td class="classHeaderTableLabel">Class</td>
					<td class="classSignature" />
				</tr>
				<tr>
					<td class="classHeaderTableLabel">Inheritance</td>
					<td class="inheritanceList">  </td>
				</tr>
			</table>
			<p />
     Used to acces methods in flex viewer that are made available through <a href="http://livedocs.adobe.com/flex/3/langref/flash/external/ExternalInterface.html">ExternalInterface</a>
			<p />
			<br />
			<hr />
		</div>
		<a name="propertySummary" />
		<div class="summarySection">

</div>
		<a name="methodSummary" />
		<div class="summarySection">
			<div class="summaryTableTitle">Public Methods</div>
			<table id="summaryTableMethod" class="summaryTable " cellpadding="3" cellspacing="0">
				<tr>
					<th>&nbsp;</th>
					<th colspan="2">Method</th>
					<th class="summaryTableOwnerCol">Defined&nbsp;by</th>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#addLegend()">addLegend</a>():void
				 </div>
						<div class="summaryTableDescription">
						  Add an image legend to layer widget by url and layer name.   
				   </div>
					</td>
					<td class="summaryTableOwnerCol">ImageLegend</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#clearLegends()">clearLegends</a>():void
				</div>
						<div class="summaryTableDescription">
					 Removes all image legends.   
				</div>
					</td>
					<td class="summaryTableOwnerCol">ImageLegend</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#clearSelection()">clearSelection</a>():void
					</div>
						<div class="summaryTableDescription">
					   Clears all selected features   
				  </div>
					</td>
					<td class="summaryTableOwnerCol">SearchWidgetAllLayers</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#createMapPng()">createMapPng</a>(filename:String):void
				</div>
						<div class="summaryTableDescription">
					  Saves a png of the map to disc - calls serverside function defined in widget config tag pngcreateurl.
			   </div>
					</td>
					<td class="summaryTableOwnerCol">PrintWidget, ThinPrintWidget</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#excludeAllLayers()">excludeAllLayers</a>(setvisibility:String = "true")
				   </div>
						<div class="summaryTableDescription">
						 Excludes layers from toc and turns them off by default.
				   </div>
					</td>
					<td class="summaryTableOwnerCol">FilterLiveMapsWidget</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#getExtent()">getExtent</a>():String
					</div>
						<div class="summaryTableDescription">
						 returns current map extent   
				   </div>
					</td>
					<td class="summaryTableOwnerCol">MapManager</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#getUIFilter()">getUIFilter</a>():String
				</div>
						<div class="summaryTableDescription">
						 Returns a string containing filters and select value. This can be used as input to <a href="#setUIFilters()">setUIFilters</a>():String
				   </div>
					</td>
					<td class="summaryTableOwnerCol">LayerFilter</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#includeLayers()">includeLayers</a>(layers:String, setvisibility:Boolean = true):void
			 </div>
						<div class="summaryTableDescription">
			   Includes layers (defined in configuration file) to the toc and turns them on by default.   
		   </div>
					</td>
					<td class="summaryTableOwnerCol">FilterLiveMapsWidget, ThinFilterLiveMapsWidget</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#isReady()">isReady</a>():Boolean
					</div>
						<div class="summaryTableDescription">
						  returns true when all widget modules have been preloaded.
		   
				  </div>
					</td>
					<td class="summaryTableOwnerCol">index</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#queryFeatures()">queryFeatures</a>(_queryLayers:String,_queryExpr:String,_queryFields:String,_queryTitleField:String,_queryLinkField:String,_queryPreLinkField:String = "",_queryPreLink:String=""):void
				</div>
						<div class="summaryTableDescription">
					  Executes a map given query on defined layers, returning the defined fields.	   
				  </div>
					</td>
					<td class="summaryTableOwnerCol">SearchWidgetAllLayers</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#queryFeaturesControl()">queryFeaturesControl</a>(_queryLayer:String,_queryValue:String)
				</div>
						<div class="summaryTableDescription">
					  Executes a map query based on configurations in searchwidget control.
				   
				</div>
					</td>
					<td class="summaryTableOwnerCol">SearchWidgetAllLayers</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#removeAllLayersDefinition()">removeAllLayersDefinition</a>():void
				</div>
						<div class="summaryTableDescription">
					  Resets layer definition to what was defined in the configuration file. 		   
				   </div>
					</td>
					<td class="summaryTableOwnerCol">LayerFilter, ThinFilterLiveMapsWidget</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setAllLayersDefinition()">setAllLayersDefinition</a>(definition:String = ""):void
				</div>
						<div class="summaryTableDescription">
						Sets filters on all layer in all mapservices on map (excluding basemaps).
				   
				   </div>
					</td>
					<td class="summaryTableOwnerCol">LayerFilter, ThinFilterLiveMapsWidget</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setExcludeLayers()">setExcludeLayers</a>(layers:String, setvisibility:Boolean = true):void
				</div>
						<div class="summaryTableDescription">
					  Excludes layers from toc and turns them off by default.
				   
				</div>
					</td>
					<td class="summaryTableOwnerCol">FilterLiveMapsWidget</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setExtent()">setExtent</a>(xminimum:Object,ymin:Number = 0,xmax:Number = 0,ymax:Number = 0):void
				</div>
						<div class="summaryTableDescription">
					  Sets the extent of the map
				   
			   </div>
					</td>
					<td class="summaryTableOwnerCol">MapManager</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setFilter()">setFilter</a>(filter:String, _select:Boolean = true):void
				</div>
						<div class="summaryTableDescription">
					Sets the value of a filter control in the filter tab in FilterLiveMapsWidget module.
				 </div>
					</td>
					<td class="summaryTableOwnerCol">LayerFilter</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setLayerDefinition()">setLayerDefinition</a>(mapServiceName:String,layerName:String="", definition:String = ""):void
				</div>
						<div class="summaryTableDescription">
					  Set a filter on a layer in a mapservice.
				   
				   </div>
					</td>
					<td class="summaryTableOwnerCol">LayerFilter</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setLayersVisibility()">setLayersVisibility</a>(mapServiceName:String,layers:String="",_turnOthersOff:Boolean = "alse,_turnon:Boolean = true):void
				</div>
						<div class="summaryTableDescription">
					  Sets a layers visibility - either the entire mapservice or one layer in the service. Flags to turn other layers off when turning the specified on.
				   
				   </div>
					</td>
					<td class="summaryTableOwnerCol">FilterLiveMapsWidget, ThinFilterLiveMapsWidget</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setMapPrintDetails()">setMapPrintDetails</a>(details:String):void
				</div>
						<div class="summaryTableDescription">
					  Sets the detail text of the print page (print and pdf) to <code>details</code>
						</div>
					</td>
					<td class="summaryTableOwnerCol">FilterLiveMapsWidget, ThinFilterLiveMapsWidget</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setUIFilter()">setUIFilter</a>(filter:String, _select:String = "true"):void
				</div>
						<div class="summaryTableDescription">
					 Changes selected value of a filter UI control
				   
				   </div>
					</td>
					<td class="summaryTableOwnerCol">LayerFilter</td>
				</tr>
				<tr class="">
					<td class="summaryTablePaddingCol">&nbsp;</td>
					<td class="summaryTableInheritanceCol">&nbsp;</td>
					<td class="summaryTableSignatureCol">
						<div class="summarySignature">
							<a class="signatureLink" href="#setUIFilters()">setUIFilters</a>(filter:String):void
				</div>
						<div class="summaryTableDescription">
					 Changes selected value of  filter UI controls	   
				   </div>
					</td>
					<td class="summaryTableOwnerCol">LayerFilter</td>
				</tr>
			</table>
		</div>
		<script type="text/javascript" language="javascript">
			<!--
showHideInherited();
-->
		</script>
		<div class="MainContent">
			<div class="detailBody">
	</div>
			<a name="methodDetail" />
			<div class="detailSectionHeader">Method detail</div>
			<!-- addLegend-->
			<a name="addLegend()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">addLegend</td>
					<td class="detailHeaderParens">(layername:String,legendurl:String)</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function addLegend(layername:String,legendurl:String):void</code>
				<p> Add an image legend to layer widget by url and layer name.</p>
			</div>
			<div class="detailBody">
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">layername</span>:String</code> &mdash; Name of layer the legend belongs to. Will be used as title.
				 </td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">legendurl</span>:String</code>&mdash;  URL of image.
				</td>
					</tr>
				</table>
				<code />
			</div>
			<br />
			<br />
			<!-- clearLegends-->
			<a name="clearLegends()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">clearLegends</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function clearLegends():void</code>
				<p>
		 Removes all image legends. </p>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- clearSelection -->
			<a name="clearSelection()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">clearSelection</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function clearSelection():void</code>
				<p>
		 Clears all selected features </p>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- createMapPng -->
			<a name="createMapPng()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">createMapPng</td>
					<td class="detailHeaderParens">(filename:String)</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function createMapPng(filename:String):void</code>
				<p>
			 Saves a png of map to disc under the given filename. The url to the serverside script is defined in widget config.
			 <br />
		 e.g.</p>
				<code>&lt;pngcreateurl&gt;MapPrint/pngcreate.aspx&lt;/pngcreateurl&gt;</code>
			</div>
			<div class="detailBody">
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">filename</span>:String</code> &mdash; Name of saved file, the image will be saved as &lt;filename&gt;.png
				 </td>
					</tr>
				</table>
				<code />
			</div>
			<br />
			<br />
			<!-- excludeAllLayers  -->
			<a name="excludeAllLayers()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">excludeAllLayers</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function excludeAllLayers(setvisibility:Boolean = true):void</code>
				<p>
			  Excludes all layers from toc and turns them off by default. 
				 
			   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">setvisibility</span>:Boolean</code> (default = <code>true</code>)
						&mdash;  when true the layers being excluded are also turned off.
					</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- getExtent  -->
			<a name="getExtent()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">getExtent</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function getExtent():String</code>
				<p>
			  Returns current map extent.</p>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- getUIFiIter  -->
			<a name="getUIFilter()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">getUIFilter</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function getUIFilter():String</code>
				<p> Returns a string containing filters and select value. This can be used as input to <a href="#setUIFilters()">setUIFilters</a>():String</p>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- includeLayers  -->
			<a name="includeLayers()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">includeLayers</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function includeLayers(layers:String, setvisibility:Boolean = true):void</code>
				<p>  Includes layers (defined in configuration file) to the toc and turns them on by default.    </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">layers</span>:String</code> &mdash; A commaseperated list of mapservicelayers to be included.
						 The list contains the ids of the mapservices as they are defined in the application configuration file 
						(where all the mapservices are configured).
						
						if layers is "-1" all layers are included and the visibility set to <code>setvisibility</code>
						</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">setvisibility</span>:Boolean</code> (default = <code>true</code>)
					&mdash;  when true the layers being included are also turned on.</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">excludeOthers</span>:Boolean</code> (default = <code>true</code>)
						&mdash;  when true all the other mapservice layers in the map (those not in <code>layers</code>) are excluded from toc.
					</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- isReady  -->
			<a name="isReady()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">isReady</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function isReady():Boolean</code>
				<p> Returns true when all widget modules have been preloaded.  </p>
			</div>
			<br />
			<br />
			<!-- queryFeatures -->
			<a name="queryFeatures()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">queryFeatures</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>
				public function queryFeatures(_queryLayers:String,_queryExpr:String,_queryFields:String,_queryTitleField:String,_queryLinkField:String,_queryPreLinkField:String = "",_queryPreLink:String=""):void
			</code>
				<p>		Executes a map given query on defined layers, returning the defined fields. 		</p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryLayers</span>:String</code> &mdash; Commaseperated list of URLs to the layers to query.
				  </td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryExpr</span>:String</code>  &mdash; The SQL query expression</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryFields</span>:String</code>  &mdash; The fields to include in the query result.</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryTitleField</span>:String</code>  &mdash; The field to use as title when presenting the query result.</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryLinkField</span>:String</code>  &mdash; A field containing a link to be shown in the query result.
					</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryPreLinkField</span>:String</code>  &mdash; a field to be used as url parameter in the link. The rest of the link is defined in <code>_queryPreLink</code>
						</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryPreLink</span>:String</code>  &mdash; A webpage taking the <code>_queryPreLinkField</code> value as url parameter
					</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<p>Example using a field that contains a link:
				<br />
					<br />
					<code>queryFeatures("http://gisserver/ArcGIS/rest/services/theService/MapServer/0,http://gisserver/ArcGIS/rest/services/theService/MapServer/1","name LIKE %copenhagen%","name,address,phonenumber,homepage","name","homepage")</code>
					<br />
					<br />
					<br />
				Example using a field as url parameter to a webpage defined in the <code>_queryPreLink</code> parameter:
			</p>
				<br />
				<br />
				<code>
				queryFeatures("http://gisserver/ArcGIS/rest/services/theService/MapServer/0,http://gisserver/ArcGIS/rest/services/theService/MapServer/1",
				"name LIKE %copenhagen%",
				"name,address,phonenumber",
				"name",
				"",
				"name",
				"http://myWebsite.com/detailpage.htm?name=")
			</code>
			</div>
			<br />
			<br />
			<!-- queryFeaturesControl -->
			<a name="queryFeaturesControl()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">queryFeaturesControl</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function queryFeaturesControl(_queryLayer:String,_queryValue:String):void</code>
				<p>
			Executes a map query based on configurations in SearchWidgetAllLayers control. 
			   
			   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryLayer</span>:String</code> &mdash; The name of the layer as defined in the t.
			  </td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_queryValue</span>:String</code> &mdash; The value of the query. The condition is defined in the SearchWidgetAllLayers.
				</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
		In the configuration of the SearchWidgetAllLayers a search on features is defined. <br />
		Example of configuration of SearchWidgetAllLayers:<br />
				<br />
				<code>
		&lt;layer&gt;<br />
					<br />
					<div class="detailBody">
					&lt;name&gt;Facilities&lt;/name&gt;<br />
					&lt;url&gt;http://gisserver/ArcGIS/rest/services/theService/MapServer/0,http://gisserver/ArcGIS/rest/services/theService/MapServer/1&lt;/url&gt;<br />
					&lt;expression&gt;upper(name) LIKE upper('%[value]%')&lt;/expression&gt;<br />
					&lt;textsearchlabel&gt;Search by name [ Example: copenhagen]:&lt;/textsearchlabel&gt;<br />
					&lt;graphicalsearchlabel&gt;Use one of the graphical search tools to select facilities&lt;/graphicalsearchlabel&gt;<br />
					&lt;fields&gt;name,address,phonenumber&lt;/fields&gt;<br />
					&lt;titlefield&gt;name&lt;/titlefield&gt;<br />
					&lt;linkfield&gt;&lt;/linkfield&gt;<br />
					&lt;prelinkfield&gt;name&lt;/prelinkfield&gt;<br />
					&lt;prelink&gt;http://myWebsite.com/detailpage.htm?name=&lt;/prelink&gt;
				</div>	
			&lt;/layer&gt;<br />
				</code>
				<br />
		Example of a search using the above configuration of the searcwidget on Facilities layer for features with name like 'Odense':<br />
				<br />
				<code>queryFeaturesControl("Facilities","Odense");</code>
			</div>
			<br />
			<br />
			<!-- removeAllLayersDefinition -->
			<a name="removeAllLayersDefinition()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">removeAllLayersDefinition</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function removeAllLayersDefinition():void</code>
				<p>
		 Resets layer definition to what was defined in the configuration file. 
		  </p>
			</div>
			<div class="detailBody">
				<code />The filter set in the configuration file for the individual layers or mapservicelayers will be kept. All filters added dynamically will be removed.
		</div>
			<br />
			<br />
			<!-- setAllLayersDefinition -->
			<a name="setAllLayersDefinition()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setAllLayerDefinition</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setAllLayersDefinition(definition:String = ""):void</code>
				<p>
		 Sets filters on all layer in all mapservices on map (excluding basemaps). 
		   
		   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">definition</span>:String</code> &mdash; The new filter/ layer definition string
		  </td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />Sets the layer definition (filter or where clause) on all layers in all mapservices in the map to the value of the definition parameter. 
		The underlying tables of the layers must all have the fields which are part of the condition. If a layer already has a filter set in the configuration, the new definition will be added to this
		by an AND operator. Any filters added dynamically (e.g. by this method) at an earlier stage will be removed.
		</div>
			<br />
			<br />
			<!-- setExcludeLayers  -->
			<a name="setExcludeLayers()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setExcludeLayers</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setExcludeLayers(layers:String, setvisibility:Boolean = true):void</code>
				<p>
		  Excludes layers from toc and turns them off by default. 
			 
		   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">layers</span>:String</code> &mdash; A commaseperated list of mapservicelayers to be excluded. The list contains the ids
		 of the mapservices as they are defined in the application configuration file 
		(where all the mapservices are configured).
		  </td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">setvisibility</span>:Boolean</code> (default = <code>true</code>)
		&mdash;  when true the layers being excluded are also turned off.</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- setExtent  -->
			<a name="setExtent()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setExtent</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setExtent(xminimum:Object,ymin:Number = 0,xmax:Number = 0,ymax:Number = 0):void</code>
				<p>
		  Set the extent of the map
			 
		   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">xminimum</span>:Object</code> &mdash; Either a number defining minimum x coordinate of new extent or a commaseperated list (string) of with the format "xmin,ymin,xmax,ymax"
		if xminimum is a string - the remaining parameters will be ignored.
		  </td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">ymin</span>:Number</code> (default = <code>0</code>)
		&mdash;  minimum y coordinate of new extent (only used i xminimum is a Number)</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">xmax</span>:Number</code> (default = <code>0</code>)
		&mdash;  maximum x coordinate of new extent (only used i xminimum is a Number)</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">ymax</span>:Number</code> (default = <code>0</code>)
		&mdash;  maximum y coordinate of new extent (only used i xminimum is a Number)</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- setFilter -->
			<a name="setFilter()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setFilter</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setFilter(filter:String, _select:Boolean = "true"):void</code>
				<p>Sets the value of a filter control in the filter tab in <code>FilterLiveMapsWidget</code> module.</p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">filter</span>:String</code> &mdash; The value in the combobox to select or name of checkbox to check/uncheck.
		  </td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_select</span>:Boolean</code> &mdash; If control is checkbox this parameter defines it to be checked or unchecked.
		  </td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
		Example of a configuration of a filtercontrol defined in the configuration file for <code>FilterLiveMapsWidget</code>: <br />
				<code>
			&lt;filtergroups&gt;
				<div class="detailBody">
						<br />
				&lt;group label="Year"&gt;<br />
						<br />
						<div class="detailBody">
					&lt;filter type="combobox" datafield="Year" data="2001,2004,2007"  condition="AND" selected="2007"/&gt;
					</div>
				&lt;/group&gt;<br />
						<br />
				&lt;group label="Release"&gt;<br />
						<br />
						<div class="detailBody">
					&lt;filter type="checkbox" label="Air" data="air&gt;0" condition="OR" selected="true"/&gt;<br />
					&lt;filter type="checkbox" label="Soil" data="soil&gt;0" condition="OR" selected="true"/&gt;<br />
					&lt;filter type="checkbox" label="Water" data="water&gt;0" condition="OR" selected="true"/&gt;<br />
						</div>
				&lt;/group&gt;
				</div>
			&lt;/filtergroups&gt;
		</code>
				<br />
				<br />
		Set the filter of the mapservice layers to include all features with year field value equal to '2001'	
			<br />
				<br />
				<code>setFilter('2001');</code>
				<br />
				<br />	
		
		Remove Air filter from condition:
		<br />
				<br />
				<code>setFilter('Air',false);</code>
				<br />
				<br />
		The filter set in the configuration file for the individual layers or mapservicelayers will be kept. All filters added dynamically will be removed.
		</div>
			<br />
			<br />
			<!-- setLayerDefinition -->
			<a name="setLayerDefinition()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setLayerDefinition</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setLayerDefinition(mapServiceName:String,layerName:String="", definition:String = ""):void</code>
				<p>
		  Set a filter on a layer in a mapservice.
		   
		   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">mapServiceName</span>:String</code> &mdash; The id of the mapservice as defined in the application configuration file 
		(where all the mapservices are configured), that contains the layer which definition to set.
		  </td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">layerName</span>:String</code>  &mdash; The id of layer which definition to set. The id is either the name given in the 
		mapservice or the integer id</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">definition</span>:String</code>  &mdash; The new filter/ layer definition string</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code> </code>If a layer already has a filter set in the configuration, the new definition will be added to this
		by an AND operator. Any filters added dynamically (e.g. by this method) at an earlier stage will be removed.
		</div>
			<br />
			<br />
			<!-- setLayersVisibility  -->
			<a name="setLayersVisibility()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setLayersVisibility</td>
					<td class="detailHeaderParens">()</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setLayersVisibility(mapServiceName:String,layers:String="",_turnOthersOff:Boolean = "false",_turnon:Boolean = "true"):void</code>
				<p>
		 Sets a layers visibility - either the entire mapservice or one layer in the service. Flags to turn other layers off when turning the specified on.
		   
		   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">mapServiceName</span>:String</code>  &mdash;The mapservicelayer to be turned on/off or that contains the layers to be turned on/off. 
		The id of the mapservice is defined in the application configuration file (where all the mapservices are configured).
		  </td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">layers</span>:String
			</code> 
			(default = <code>""</code>) 
			&mdash; A commaseperated list of layers in the mapservice
			to be turned on/off. The list contains the ids of the layers as they are defined in the application configuration file (where all the mapservices are configured).
			The id is either the name given in the mapservice or the integer id
		</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_turnOthersOff</span>:Boolean</code> (default = <code>false</code>)
			&mdash; When true the other mapservices and layers are turned off.
		</td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_turnon</span>:Boolean</code> (default = <code>true</code>)
			&mdash; Turn the mapservice and or layers on or off.
		</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />When layers are undefined the entire mapservice is turned on/off. 
		</div>
			<br />
			<br />
			<!-- setMapPrintDetails  -->
			<a name="setMapPrintDetails()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setMapPrintDetails</td>
					<td class="detailHeaderParens">(details:String)</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setMapPrintDetails(details:String):void</code>
				<p>
		  Sets the detail text of the print page (print and pdf) to <code>details</code>
				</p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">details</span>:String</code>  &mdash;The string with the details to write on print and pdf print page.
		  </td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- setUIFilter  -->
			<a name="setUIFilter()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setUIFilter</td>
					<td class="detailHeaderParens">(filter:String, _select:String = "true"):void</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setUIFilter(filter:String, _select:String = "true"):void</code>
				<p>
			  Changes selected value of a filter UI control
		   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">filter</span>:String</code>  &mdash; The name or label value to select of the filter UI control - if a combobox it is the label value - if a checkbox it is the id of the box.
		  </td>
					</tr>
					<tr>
						<td class="paramSpacer">&nbsp;</td>
					</tr>
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">_select</span>:Boolean</code> (default = <code>true</code>)
			&mdash; If th UI control is a checkbox _select determines whether to turn it on or off.
			<br />
							<br />
			The filter UI controls are defined in widget config like this:<br />
							<code>
			&lt;filtergroups&gt;<br />
			&nbsp;	&lt;group label="Year"&gt;<br />
			&nbsp;&nbsp;			&lt;filter type="combobox" datafield="ReportingYear" data="2007" datajsfunction="getReportYear" condition="AND" selected="2007"/&gt;<br />
			&nbsp;		&lt;/group&gt;<br />
				&nbsp;	&lt;group label="Release"&gt;<br />
			&nbsp;&nbsp;			&lt;filter type="checkbox" label="Air" data="air&gt;0" condition="OR" selected="true"/&gt;<br />
			&nbsp;&nbsp;			&lt;filter type="checkbox" label="Soil" data="soil&gt;0" condition="OR" selected="true"/&gt;<br />
			&nbsp;&nbsp;			&lt;filter type="checkbox" label="Water" data="water&gt;0" condition="OR" selected="true"/&gt;<br />
			&nbsp;		&lt;/group&gt;<br />
				&lt;/filtergroups&gt;<br />
							</code>
						</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<!-- setUIFilters  -->
			<a name="setUIFilters()" />
			<table cellspacing="0" cellpadding="0" class="detailHeader">
				<tr>
					<td class="detailHeaderName">setUIFilters</td>
					<td class="detailHeaderParens">(filter:String):void</td>
					<td class="detailHeaderType">method</td>
					<td class="detailHeaderRule">&nbsp;</td>
				</tr>
			</table>
			<div class="detailBody">
				<code>public function setUIFilters(filter:String):void</code>
				<p>
			  Changes selected value of a filter UI control
		   </p>
				<span class="label">Parameters</span>
				<table border="0" cellspacing="0" cellpadding="0">
					<tr>
						<td width="20px" />
						<td>
							<code>
								<span class="label">filter</span>:String</code>  &mdash; 
			A commaseperated string list containing name:value pairs of filter controls to change select value of.
			e.g. <code>2007,air:true,water:false</code>
			2007 is a label in a combobox, air is a checkbox id wich eill be checked, water is a checkbox id which will be unchecked
			<br />
			
			The filter UI controls are defined in widget config like this:
				<code>
				&lt;filtergroups&gt;<br />
				&nbsp;	&lt;group label="Year"&gt;<br />
				&nbsp;&nbsp;			&lt;filter type="combobox" datafield="ReportingYear" data="2007" datajsfunction="getReportYear" condition="AND" selected="2007"/&gt;<br />
				&nbsp;		&lt;/group&gt;<br />
					&nbsp;	&lt;group label="Release"&gt;<br />
				&nbsp;&nbsp;			&lt;filter type="checkbox" label="Air" data="air&gt;0" condition="OR" selected="true"/&gt;<br />
				&nbsp;&nbsp;			&lt;filter type="checkbox" label="Soil" data="soil&gt;0" condition="OR" selected="true"/&gt;<br />
				&nbsp;&nbsp;			&lt;filter type="checkbox" label="Water" data="water&gt;0" condition="OR" selected="true"/&gt;<br />
				&nbsp;		&lt;/group&gt;<br />
					&lt;/filtergroups&gt;<br />
							</code>
						</td>
					</tr>
				</table>
			</div>
			<div class="detailBody">
				<code />
			</div>
			<br />
			<br />
			<hr />
			<br />
			<p />
			<center class="copyright"> 
	</center>
		</div>
	</body>
</html>
